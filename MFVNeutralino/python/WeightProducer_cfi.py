import FWCore.ParameterSet.Config as cms
from Year import year

pileup_weights = {
    2015: [ 0.543103, 0.683627, 1.06283, 1.36101, 1.6323, 1.9294, 1.45325, 1.28716, 1.38616, 1.36714, 1.26216, 1.16094, 1.05804, 0.904997, 0.701966, 0.495774, 0.334415, 0.244172, 0.213622, 0.185556, 0.120686, 0.054814, 0.0187897, 0.00535259, 0.00152566, 0.000508218, 0.000208025, 9.61443e-05, 4.83211e-05, 2.51288e-05, 1.35832e-05, 7.12796e-06, 3.80237e-06, 1.96791e-06, 1.01934e-06, 5.04546e-07, 2.465e-07, 1.11323e-07, 4.79865e-08, 2.1649e-08, 7.19711e-09, 2.9701e-09, 8.03544e-10, 3.4155e-10, 9.65737e-11, 2.12712e-11, 7.34873e-12, 1.09032e-12, ],
    2016: [ 0.344207, 0.918094, 1.19356, 0.948006, 1.12332, 1.16726, 0.785461, 0.493116, 0.742028, 0.879304, 0.963246, 1.07105, 1.12495, 1.17388, 1.20124, 1.20699, 1.19942, 1.18401, 1.1452, 1.09663, 1.06599, 1.05092, 1.0514, 1.05105, 1.0493, 1.05901, 1.07264, 1.08203, 1.09413, 1.10867, 1.09382, 1.08406, 1.04061, 0.985874, 0.909698, 0.820672, 0.716504, 0.610538, 0.503291, 0.404671, 0.310418, 0.228336, 0.164019, 0.113181, 0.0773672, 0.050999, 0.0318103, 0.0201421, 0.012261, 0.00741128, 0.00438758, 0.002621, 0.00156723, 0.000973837, 0.000726163, 0.000674079, 0.000723403, 0.000945946, 0.00134649, 0.00183786, 0.00317501, 0.00387694, 0.00471, 0.00507489, 0.00587621, 0.00511519, 0.0055894, 0.00421601, 0.00409846, 0.00367874, 0.00299944, 0.00276595, 0.00233498, 0.00191472, 0.00173505, ],
    '15MCto16MC': [ 5.76204, 15.3144, 6.27469, 4.24925, 5.0273, 7.53141, 18.794, 29.2987, 44.1202, 42.5113, 28.3124, 17.1247, 10.0655, 5.91514, 3.30473, 1.725, 0.868268, 0.432714, 0.220083, 0.124471, 0.0845176, 0.066368, 0.0560245, 0.0487893, 0.0420591, 0.0367177, 0.0316873, 0.0272032, 0.0228623, 0.0189862, 0.0147349, 0.0116224, 0.00848947, 0.00611264, 0.00413508, 0.00276414, 0.00173674, 0.00112434, 0.000706043, 0.000405201, 0.000290442, 0.000159825, 0.000125765, 6.16102e-05, 4.3736e-05, 3.79775e-05, 1.97114e-05, 2.35089e-05, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08, 4.46766e-08 ],
    }

mfvWeight = cms.EDProducer('MFVWeightProducer',
                           mevent_src = cms.InputTag('mfvEvent'),
                           enable = cms.bool(True),
                           prints = cms.untracked.bool(False),
                           histos = cms.untracked.bool(True),
                           weight_gen = cms.bool(False),
                           weight_gen_sign_only = cms.bool(False),
                           weight_pileup = cms.bool(False),
                           pileup_weights = cms.vdouble(*pileup_weights[year]),
                           )
